<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Data Management (for INF-2700): pager.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>pager.c File Reference</h1><code>#include &quot;<a class="el" href="pager_8h_source.html">pager.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="pmsg_8h_source.html">pmsg.h</a>&quot;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>

<p><a href="pager_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfile__handle__struct.html">file_handle_struct</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Database file handle.  <a href="structfile__handle__struct.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structblock__struct.html">block_struct</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Database file block.  <a href="structblock__struct.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpage__struct.html">page_struct</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Database buffer page.  <a href="structpage__struct.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpq__elm.html">pq_elm</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">element in <a class="el" href="structpqueue.html" title="queue of pages">pqueue</a>  <a href="structpq__elm.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpqueue.html">pqueue</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">queue of pages  <a href="structpqueue.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structfile__handle__struct.html">file_handle_struct</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#af30859dee059644d94b92bbcc664e47a">fhandle_p</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structpq__elm.html">pq_elm</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a7a208bc63a9cbaaa2d003c0adfda5cf2">pq_elm_p</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structpqueue.html">pqueue</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#aea84875810eddfcf6bde05bcb3ccc5d2">pqueue_p</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#aa1e03bea6f7cc9fe4647931bade28d3c">put_file_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#af4bfd437cbedb7ddedec20e67e673b44">put_page_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, <a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ae6432ef7457cc8fd0cb1071544105578">put_block_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, <a class="el" href="structblock__struct.html">block_p</a> b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a3c71189ff63bf5117e9132d01661316c">put_pager_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, const char *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a05696f13db13dbb9e7eaab744e459716">put_pager_profiler_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a4859578560f2f62031cff8313116fa2f">put_pqueues_info</a> (<a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a57a3ad1575574bf1af1eabcc6e5b80f6">pager_profiler_reset</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ac3cc6ecbe26ba084e669955ff01e9e26">set_system_dir</a> (char *dir)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ad2d7b5713fe117690d7f612a6eedcdfa">system_dir</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#aa5341cc5ee73400407087181f229a163">close_file</a> (const char *fname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a75f76fe5fe3b92e3536f5123dd4db10d">pager_init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a579742e19ba1c0fd2ecf4d72f63ecfa4">eof</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a52d442ae882695568880d1f6a064c220">pager_terminate</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ac6d302e61f9ef0658896f6f269372f29">get_page</a> (const char *fname, int blknr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ad663e3f2e8c5daaae8f5002e56689dc4">get_page_for_append</a> (const char *fname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ab05479ee43554db35ff2a157d9c39592">get_next_page</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a6b823fe5794c31c0a5d987f60568c556">page_set_pos_begin</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a42a02f62791da89bfc6314778d2aed65">pin</a> (<a class="el" href="structblock__struct.html">block_p</a> b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a1cbbae211b6411ea79d80d45f9831c62">unpin</a> (<a class="el" href="structpage__struct.html">page_p</a> pg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a7df86be437e842c66115a00daa85f0f9">read_page</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a8f24a7387621c761b7c68908f969f976">write_page</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a4edda2c8b563580051237b2071b61f57">page_block_nr</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a22cd5cbd3395cfcf1683e5d26d368a87">page_current_pos</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a56a50369677f6867f99c527b240af50e">page_set_current_pos</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ab2ec49e0fd3c00804c5cf019ffd939f0">page_valid_pos_for_get</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a4017443dc8ef65a01c4036cb34309c35">page_valid_pos_for_put</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int offset, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a3a7e91c1ecf48d397e533ca229649754">eob</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#adceb30d34ca97faf083e03c2d2599d47">page_get_int</a> (<a class="el" href="structpage__struct.html">page_p</a> p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ab3ad5188ed0e9194283c6fb120b1c805">page_put_int</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a139b8f8707d0a1d86dd103f912876abb">page_get_int_at</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int offset)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#acb993fada14418a8fe30e82b248561b9">page_put_int_at</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int offset, int val)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a5f00bd55b790f59837b93fe81f178a62">page_get_str</a> (<a class="el" href="structpage__struct.html">page_p</a> p, char *str, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a36162a65146dbae9c6c2cecad2596350">page_put_str</a> (<a class="el" href="structpage__struct.html">page_p</a> p, char *str, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ab2cbe9990616cefc23cb7009925fc6da">page_get_str_at</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int offset, char *str, int len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#ad78a23d1d69d4e193db6928676c2c15e">page_put_str_at</a> (<a class="el" href="structpage__struct.html">page_p</a> p, int offset, char *str, int len)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#af194b29f04ea0c7ddee92ca51dce1b68">sys_dir</a> [512]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfile__handle__struct.html">fhandle_p</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="pager_8c.html#a8f1aa3bc1209a68a4a45bcd4b72b3196">file_handles</a> [MAX_OPEN_FILES]</td></tr>
</table>
<hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="af30859dee059644d94b92bbcc664e47a"></a><!-- doxytag: member="pager.c::fhandle_p" ref="af30859dee059644d94b92bbcc664e47a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structfile__handle__struct.html">file_handle_struct</a>* <a class="el" href="structfile__handle__struct.html">fhandle_p</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00029">29</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7a208bc63a9cbaaa2d003c0adfda5cf2"></a><!-- doxytag: member="pager.c::pq_elm_p" ref="a7a208bc63a9cbaaa2d003c0adfda5cf2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structpq__elm.html">pq_elm</a>* <a class="el" href="structpq__elm.html">pq_elm_p</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00034">34</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="aea84875810eddfcf6bde05bcb3ccc5d2"></a><!-- doxytag: member="pager.c::pqueue_p" ref="aea84875810eddfcf6bde05bcb3ccc5d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structpqueue.html">pqueue</a>* <a class="el" href="structpqueue.html">pqueue_p</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00082">82</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa5341cc5ee73400407087181f229a163"></a><!-- doxytag: member="pager.c::close_file" ref="aa5341cc5ee73400407087181f229a163" args="(const char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int close_file </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Close the file </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00666">666</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00365">remove_table()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a7e91c1ecf48d397e533ca229649754"></a><!-- doxytag: member="pager.c::eob" ref="a3a7e91c1ecf48d397e533ca229649754" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eob </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns true (non-zero) if current position is at the <em>end-of-block</em> </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01066">1066</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, and <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00757">eof()</a>, <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, and <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a579742e19ba1c0fd2ecf4d72f63ecfa4"></a><!-- doxytag: member="pager.c::eof" ref="a579742e19ba1c0fd2ecf4d72f63ecfa4" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int eof </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>returns true (non-zero) if current position is at the <em>end-of-file</em> </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00757">757</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, and <a class="el" href="pager_8c_source.html#l01066">eob()</a>.</p>

</div>
</div>
<a class="anchor" id="ab05479ee43554db35ff2a157d9c39592"></a><!-- doxytag: member="pager.c::get_next_page" ref="ab05479ee43554db35ff2a157d9c39592" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpage__struct.html">page_p</a> get_next_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the next page </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00900">900</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, <a class="el" href="pager_8c_source.html#l00019">file_handle_struct::fname</a>, <a class="el" href="pager_8c_source.html#l00844">get_page()</a>, and <a class="el" href="pager_8c_source.html#l00024">file_handle_struct::num_blocks</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00716">append_record()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6d302e61f9ef0658896f6f269372f29"></a><!-- doxytag: member="pager.c::get_page" ref="ac6d302e61f9ef0658896f6f269372f29" args="(const char *fname, int blknr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpage__struct.html">page_p</a> get_page </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>blknr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get a page for a file block. A block is identified by the file and the block number <em>blknr</em> (starting at 0. blknr = -1 for the last block at the end of the file). <a class="el" href="pager_8c.html#ac6d302e61f9ef0658896f6f269372f29">get_page()</a> does the following</p>
<ul>
<li>open_tbl_file() (and open/create the file on demand);</li>
<li>returns the block if it is already managed in the file handle;</li>
<li>otherwise,<ul>
<li>make it managed in the file handle;</li>
<li>pin the block to a buffer page (and read the block into the page).</li>
<li>Returns NULL upon failure of getting the page or pinning (reading) the page.</li>
<li>The current position of the page is set to right after the header </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00844">844</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00026">file_handle_struct::current_block</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, <a class="el" href="pager_8c_source.html#l00024">file_handle_struct::num_blocks</a>, <a class="el" href="pager_8c_source.html#l00040">block_struct::page</a>, <a class="el" href="pager_8h_source.html#l00055">PAGE_HEADER_SIZE</a>, <a class="el" href="pager_8c_source.html#l00913">pin()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00900">get_next_page()</a>, <a class="el" href="pager_8c_source.html#l00891">get_page_for_append()</a>, <a class="el" href="schema_8c_source.html#l00581">set_tbl_position()</a>, <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="ad663e3f2e8c5daaae8f5002e56689dc4"></a><!-- doxytag: member="pager.c::get_page_for_append" ref="ad663e3f2e8c5daaae8f5002e56689dc4" args="(const char *fname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpage__struct.html">page_p</a> get_page_for_append </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fname</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the last block and move the current position to the end </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00891">891</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>, and <a class="el" href="pager_8c_source.html#l00844">get_page()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00716">append_record()</a>, and <a class="el" href="schema_8c_source.html#l00581">set_tbl_position()</a>.</p>

</div>
</div>
<a class="anchor" id="a4edda2c8b563580051237b2071b61f57"></a><!-- doxytag: member="pager.c::page_block_nr" ref="a4edda2c8b563580051237b2071b61f57" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_block_nr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return page's block number. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01000">1000</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00716">append_record()</a>.</p>

</div>
</div>
<a class="anchor" id="a22cd5cbd3395cfcf1683e5d26d368a87"></a><!-- doxytag: member="pager.c::page_current_pos" ref="a22cd5cbd3395cfcf1683e5d26d368a87" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_current_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return page's current position. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01010">1010</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00660">find_record_int_val()</a>.</p>

</div>
</div>
<a class="anchor" id="adceb30d34ca97faf083e03c2d2599d47"></a><!-- doxytag: member="pager.c::page_get_int" ref="adceb30d34ca97faf083e03c2d2599d47" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the int value at the current position. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01071">1071</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8h_source.html#l00061">INT_SIZE</a>, <a class="el" href="pager_8c_source.html#l01032">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>.</p>

</div>
</div>
<a class="anchor" id="a139b8f8707d0a1d86dd103f912876abb"></a><!-- doxytag: member="pager.c::page_get_int_at" ref="a139b8f8707d0a1d86dd103f912876abb" args="(page_p p, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_int_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the int value at <em>offset</em>. The current position is moved to the next value. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01095">1095</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8h_source.html#l00061">INT_SIZE</a>, <a class="el" href="pager_8c_source.html#l01032">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00660">find_record_int_val()</a>, and <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f00bd55b790f59837b93fe81f178a62"></a><!-- doxytag: member="pager.c::page_get_str" ref="a5f00bd55b790f59837b93fe81f178a62" args="(page_p p, char *str, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the string value at the current position. The return value -1 indicates a failure. It is the resposibility of the program using the pager to manage the returned string memory (i.e., to free the memory when the string is no longer used). </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01120">1120</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8c_source.html#l01032">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2cbe9990616cefc23cb7009925fc6da"></a><!-- doxytag: member="pager.c::page_get_str_at" ref="ab2cbe9990616cefc23cb7009925fc6da" args="(page_p p, int offset, char *str, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_get_str_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the string value at <em>offset</em>. The return value -1 indicates a failure. It is the resposibility of the program using the pager to manage the returned string memory. The current position is moved to the next value. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01144">1144</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00011">FATAL</a>, <a class="el" href="pager_8c_source.html#l01032">page_valid_pos_for_get()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="ab3ad5188ed0e9194283c6fb120b1c805"></a><!-- doxytag: member="pager.c::page_put_int" ref="ab3ad5188ed0e9194283c6fb120b1c805" args="(page_p p, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_int </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put the int value <em>val</em> at the current position. Returns -1 if there is not enough space at current position. The current position is moved to the next value. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01083">1083</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8h_source.html#l00061">INT_SIZE</a>, and <a class="el" href="pager_8c_source.html#l01042">page_valid_pos_for_put()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00698">put_record()</a>, and <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>.</p>

</div>
</div>
<a class="anchor" id="acb993fada14418a8fe30e82b248561b9"></a><!-- doxytag: member="pager.c::page_put_int_at" ref="acb993fada14418a8fe30e82b248561b9" args="(page_p p, int offset, int val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_int_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put the int value <em>val</em> at <em>offset</em>. Returns -1 if fails (<em>offset</em> out of range) </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01107">1107</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8h_source.html#l00061">INT_SIZE</a>, and <a class="el" href="pager_8c_source.html#l01042">page_valid_pos_for_put()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a36162a65146dbae9c6c2cecad2596350"></a><!-- doxytag: member="pager.c::page_put_str" ref="a36162a65146dbae9c6c2cecad2596350" args="(page_p p, char *str, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_str </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put the string value <em>str</em> of length <em>len</em> at the current position. <em>len</em> includes the ending '\n' of the string. Returns -1 if there is not enough space at current position. The current position is moved to the next value. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01132">1132</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, and <a class="el" href="pager_8c_source.html#l01042">page_valid_pos_for_put()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00698">put_record()</a>, and <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>.</p>

</div>
</div>
<a class="anchor" id="ad78a23d1d69d4e193db6928676c2c15e"></a><!-- doxytag: member="pager.c::page_put_str_at" ref="ad78a23d1d69d4e193db6928676c2c15e" args="(page_p p, int offset, char *str, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_put_str_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Put the string value <em>str</em> of length <em>len</em> at <em>offset</em>. <em>len</em> includes the ending '\n' of the string. Returns -1 if fails (<em>offset</em> out of range). </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01156">1156</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, and <a class="el" href="pager_8c_source.html#l01042">page_valid_pos_for_put()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a56a50369677f6867f99c527b240af50e"></a><!-- doxytag: member="pager.c::page_set_current_pos" ref="a56a50369677f6867f99c527b240af50e" args="(page_p p, int pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_set_current_pos </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set page's current position. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01020">1020</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00660">find_record_int_val()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b823fe5794c31c0a5d987f60568c556"></a><!-- doxytag: member="pager.c::page_set_pos_begin" ref="a6b823fe5794c31c0a5d987f60568c556" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void page_set_pos_begin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set current position to the beginning </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00907">907</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, and <a class="el" href="pager_8h_source.html#l00055">PAGE_HEADER_SIZE</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00581">set_tbl_position()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2ec49e0fd3c00804c5cf019ffd939f0"></a><!-- doxytag: member="pager.c::page_valid_pos_for_get" ref="ab2ec49e0fd3c00804c5cf019ffd939f0" args="(page_p p, int offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_valid_pos_for_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if <em>offset</em> is valid for getting a value </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01032">1032</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>, <a class="el" href="pager_8h_source.html#l00055">PAGE_HEADER_SIZE</a>, <a class="el" href="pager_8c_source.html#l00057">page_struct::page_nr</a>, <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>, and <a class="el" href="pmsg_8h_source.html#l00013">WARN</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l01071">page_get_int()</a>, <a class="el" href="pager_8c_source.html#l01095">page_get_int_at()</a>, <a class="el" href="pager_8c_source.html#l01120">page_get_str()</a>, and <a class="el" href="pager_8c_source.html#l01144">page_get_str_at()</a>.</p>

</div>
</div>
<a class="anchor" id="a4017443dc8ef65a01c4036cb34309c35"></a><!-- doxytag: member="pager.c::page_valid_pos_for_put" ref="a4017443dc8ef65a01c4036cb34309c35" args="(page_p p, int offset, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int page_valid_pos_for_put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Check if <em>offset</em> is valid for putting a value with lenth <em>len</em> </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l01042">1042</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8h_source.html#l00049">BLOCK_SIZE</a>, and <a class="el" href="pager_8h_source.html#l00055">PAGE_HEADER_SIZE</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l01083">page_put_int()</a>, <a class="el" href="pager_8c_source.html#l01107">page_put_int_at()</a>, <a class="el" href="pager_8c_source.html#l01132">page_put_str()</a>, and <a class="el" href="pager_8c_source.html#l01156">page_put_str_at()</a>.</p>

</div>
</div>
<a class="anchor" id="a75f76fe5fe3b92e3536f5123dd4db10d"></a><!-- doxytag: member="pager.c::pager_init" ref="a75f76fe5fe3b92e3536f5123dd4db10d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pager_init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initiates a pager. Memory of buffer pages are allocated. Must be called first. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00674">674</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00228">pager_profiler_reset()</a>, <a class="el" href="pager_8c_source.html#l00773">pager_terminate()</a>, <a class="el" href="pager_8h_source.html#l00070">pages</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00320">open_db()</a>, <a class="el" href="pager_8c_source.html#l00237">set_system_dir()</a>, <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a57a3ad1575574bf1af1eabcc6e5b80f6"></a><!-- doxytag: member="pager.c::pager_profiler_reset" ref="a57a3ad1575574bf1af1eabcc6e5b80f6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pager_profiler_reset </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reset th pager profiler </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00228">228</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00674">pager_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a52d442ae882695568880d1f6a064c220"></a><!-- doxytag: member="pager.c::pager_terminate" ref="a52d442ae882695568880d1f6a064c220" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pager_terminate </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminates a pager. Memory of buffer pages are released. If there are dirty pages, they are writtern back to the file blocks. All open files are closed. Must be called before the program exits. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00773">773</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8h_source.html#l00070">pages</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00328">close_db()</a>, <a class="el" href="schema_8c_source.html#l00320">open_db()</a>, <a class="el" href="pager_8c_source.html#l00674">pager_init()</a>, <a class="el" href="pager_8c_source.html#l00237">set_system_dir()</a>, <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a42a02f62791da89bfc6314778d2aed65"></a><!-- doxytag: member="pager.c::pin" ref="a42a02f62791da89bfc6314778d2aed65" args="(block_p b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpage__struct.html">page_p</a> pin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structblock__struct.html">block_p</a>&nbsp;</td>
          <td class="paramname"> <em>b</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pin the block to a buffer page and read the block into the page. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00913">913</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00040">block_struct::page</a>, <a class="el" href="pager_8c_source.html#l00057">page_struct::page_nr</a>, <a class="el" href="pager_8c_source.html#l00060">page_struct::pinned</a>, <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>, and <a class="el" href="pager_8c_source.html#l00939">read_page()</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00844">get_page()</a>.</p>

</div>
</div>
<a class="anchor" id="ae6432ef7457cc8fd0cb1071544105578"></a><!-- doxytag: member="pager.c::put_block_info" ref="ae6432ef7457cc8fd0cb1071544105578" args="(pmsg_level level, block_p b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_block_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structblock__struct.html">block_p</a>&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00154">154</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pmsg_8c_source.html#l00035">append_msg()</a>, <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, <a class="el" href="pager_8c_source.html#l00019">file_handle_struct::fname</a>, <a class="el" href="pager_8c_source.html#l00040">block_struct::page</a>, <a class="el" href="pager_8c_source.html#l00057">page_struct::page_nr</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00126">put_page_info()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1e03bea6f7cc9fe4647931bade28d3c"></a><!-- doxytag: member="pager.c::put_file_info" ref="aa1e03bea6f7cc9fe4647931bade28d3c" args="(pmsg_level level, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_file_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00117">117</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00078">put_tbl_info()</a>.</p>

</div>
</div>
<a class="anchor" id="af4bfd437cbedb7ddedec20e67e673b44"></a><!-- doxytag: member="pager.c::put_page_info" ref="af4bfd437cbedb7ddedec20e67e673b44" args="(pmsg_level level, page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_page_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00126">126</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pmsg_8c_source.html#l00035">append_msg()</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8c_source.html#l00063">page_struct::current_pos</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8c_source.html#l00062">page_struct::free_pos</a>, <a class="el" href="pager_8c_source.html#l00060">page_struct::pinned</a>, <a class="el" href="pager_8c_source.html#l00154">put_block_info()</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00164">put_pager_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c71189ff63bf5117e9132d01661316c"></a><!-- doxytag: member="pager.c::put_pager_info" ref="a3c71189ff63bf5117e9132d01661316c" args="(pmsg_level level, const char *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_pager_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00164">164</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8h_source.html#l00058">MAX_OPEN_FILES</a>, <a class="el" href="pager_8h_source.html#l00070">pages</a>, <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>, and <a class="el" href="pager_8c_source.html#l00126">put_page_info()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a05696f13db13dbb9e7eaab744e459716"></a><!-- doxytag: member="pager.c::put_pager_profiler_info" ref="a05696f13db13dbb9e7eaab744e459716" args="(pmsg_level level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_pager_profiler_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&nbsp;</td>
          <td class="paramname"> <em>level</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00190">190</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>, <a class="el" href="testschema_8c_source.html#l00046">test_rec_read()</a>, and <a class="el" href="testschema_8c_source.html#l00012">test_rec_write()</a>.</p>

</div>
</div>
<a class="anchor" id="a4859578560f2f62031cff8313116fa2f"></a><!-- doxytag: member="pager.c::put_pqueues_info" ref="a4859578560f2f62031cff8313116fa2f" args="(pmsg_level level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void put_pqueues_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a>&nbsp;</td>
          <td class="paramname"> <em>level</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00221">221</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7df86be437e842c66115a00daa85f0f9"></a><!-- doxytag: member="pager.c::read_page" ref="a7df86be437e842c66115a00daa85f0f9" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read the content of the page from disk. If the content of the page is already uptodate, return immediately. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00939">939</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8h_source.html#l00049">BLOCK_SIZE</a>, <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00020">file_handle_struct::fd</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, <a class="el" href="pager_8h_source.html#l00055">PAGE_HEADER_SIZE</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00913">pin()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3cc6ecbe26ba084e669955ff01e9e26"></a><!-- doxytag: member="pager.c::set_system_dir" ref="ac3cc6ecbe26ba084e669955ff01e9e26" args="(char *dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_system_dir </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>dir</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the directory of the system </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00237">237</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pmsg_8h_source.html#l00015">DEBUG</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00674">pager_init()</a>, <a class="el" href="pager_8c_source.html#l00773">pager_terminate()</a>, <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>, and <a class="el" href="pager_8c_source.html#l00015">sys_dir</a>.</p>

<p>Referenced by <a class="el" href="testmain_8c_source.html#l00010">handle_test_options()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2d7b5713fe117690d7f612a6eedcdfa"></a><!-- doxytag: member="pager.c::system_dir" ref="ad2d7b5713fe117690d7f612a6eedcdfa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* system_dir </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Get the directory of the system </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00257">257</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00015">sys_dir</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00109">put_db_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a1cbbae211b6411ea79d80d45f9831c62"></a><!-- doxytag: member="pager.c::unpin" ref="a1cbbae211b6411ea79d80d45f9831c62" args="(page_p pg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unpin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unpin the page. If the page is dirty, write the content back to disk. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00931">931</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pager_8c_source.html#l00060">page_struct::pinned</a>, and <a class="el" href="pager_8c_source.html#l00978">write_page()</a>.</p>

<p>Referenced by <a class="el" href="schema_8c_source.html#l00716">append_record()</a>, <a class="el" href="testpager_8c_source.html#l00056">test_page_read()</a>, <a class="el" href="testpager_8c_source.html#l00153">test_page_read_with_offset()</a>, <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, and <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f24a7387621c761b7c68908f969f976"></a><!-- doxytag: member="pager.c::write_page" ref="a8f24a7387621c761b7c68908f969f976" args="(page_p p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int write_page </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structpage__struct.html">page_p</a>&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write the content of the (dirty) page to disk. </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00978">978</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>References <a class="el" href="pager_8c_source.html#l00039">block_struct::blk_nr</a>, <a class="el" href="pager_8c_source.html#l00058">page_struct::block</a>, <a class="el" href="pager_8h_source.html#l00049">BLOCK_SIZE</a>, <a class="el" href="pager_8c_source.html#l00056">page_struct::content</a>, <a class="el" href="pager_8c_source.html#l00061">page_struct::dirty</a>, <a class="el" href="pmsg_8h_source.html#l00012">ERROR</a>, <a class="el" href="pager_8c_source.html#l00020">file_handle_struct::fd</a>, <a class="el" href="pager_8c_source.html#l00038">block_struct::fhandle</a>, and <a class="el" href="pmsg_8c_source.html#l00013">put_msg()</a>.</p>

<p>Referenced by <a class="el" href="testpager_8c_source.html#l00012">test_page_write()</a>, <a class="el" href="testpager_8c_source.html#l00111">test_page_write_with_offset()</a>, and <a class="el" href="pager_8c_source.html#l00931">unpin()</a>.</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a8f1aa3bc1209a68a4a45bcd4b72b3196"></a><!-- doxytag: member="pager.c::file_handles" ref="a8f1aa3bc1209a68a4a45bcd4b72b3196" args="[MAX_OPEN_FILES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfile__handle__struct.html">fhandle_p</a> <a class="el" href="pager_8c.html#a8f1aa3bc1209a68a4a45bcd4b72b3196">file_handles</a>[MAX_OPEN_FILES]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handles of all files that are open </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00032">32</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae879613ac83e790919fdc3982d6c8b6e"></a><!-- doxytag: member="pager.c::last_blk_nr" ref="ae879613ac83e790919fdc3982d6c8b6e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="pager_8c.html#ae879613ac83e790919fdc3982d6c8b6e">last_blk_nr</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>fd of the last visited block, used to check if a new seek is needed </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00093">93</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="a996ee42d601c05262fb4d84117d7b999"></a><!-- doxytag: member="pager.c::last_fd" ref="a996ee42d601c05262fb4d84117d7b999" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="pager_8c.html#a996ee42d601c05262fb4d84117d7b999">last_fd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="pager_8c_source.html#l00092">92</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3f66c7d43516a3cf79e6a6fa4d0267d2"></a><!-- doxytag: member="pager.c::num_disk_reads" ref="a3f66c7d43516a3cf79e6a6fa4d0267d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="pager_8c.html#a3f66c7d43516a3cf79e6a6fa4d0267d2">num_disk_reads</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of disk reads after the reset of pager profiler </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00090">90</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="adf065a388dff41d898405476a6d22dcd"></a><!-- doxytag: member="pager.c::num_disk_writes" ref="adf065a388dff41d898405476a6d22dcd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="pager_8c.html#adf065a388dff41d898405476a6d22dcd">num_disk_writes</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of disk writes after the reset of pager profiler </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00091">91</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae6f187d6f25429a4fd0d2d80e2987718"></a><!-- doxytag: member="pager.c::num_seeks" ref="ae6f187d6f25429a4fd0d2d80e2987718" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="pager_8c.html#ae6f187d6f25429a4fd0d2d80e2987718">num_seeks</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of seeks after the reset of pager profiler </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00089">89</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

</div>
</div>
<a class="anchor" id="af194b29f04ea0c7ddee92ca51dce1b68"></a><!-- doxytag: member="pager.c::sys_dir" ref="af194b29f04ea0c7ddee92ca51dce1b68" args="[512]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="pager_8c.html#af194b29f04ea0c7ddee92ca51dce1b68">sys_dir</a>[512]</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the dir in which the database files are stored </p>

<p>Definition at line <a class="el" href="pager_8c_source.html#l00015">15</a> of file <a class="el" href="pager_8c_source.html">pager.c</a>.</p>

<p>Referenced by <a class="el" href="pager_8c_source.html#l00237">set_system_dir()</a>, and <a class="el" href="pager_8c_source.html#l00257">system_dir()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 22 Sep 2015 for Data Management (for INF-2700) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
