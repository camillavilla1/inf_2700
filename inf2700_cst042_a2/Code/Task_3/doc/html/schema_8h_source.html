<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Data Management (for INF-2700): schema.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>schema.h</h1><a href="schema_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00041"></a>00041 <span class="preprocessor">#ifndef _SCHEMA_H_</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span><span class="preprocessor">#define _SCHEMA_H_</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="pager_8h.html" title="A pager for accessing file blocks through buffer pages.">pager.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="schema_8h.html#a58ce36916c399104e18d32ff090f21c6">00047</a> <span class="preprocessor">#define MAX_STR_LEN 100</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span>
<a name="l00049"></a><a class="code" href="schema_8h.html#af4e6ca114114786cc23f3d5a1f8d14bfa893e9dbcc12316439b53aaa0091a1b13">00049</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> { <a class="code" href="schema_8h.html#af4e6ca114114786cc23f3d5a1f8d14bfa7fee88532b24b79bf2a88688a5d681d7">INT_TYPE</a>, <a class="code" href="schema_8h.html#af4e6ca114114786cc23f3d5a1f8d14bfa893e9dbcc12316439b53aaa0091a1b13">STR_TYPE</a> } <a class="code" href="schema_8h.html#af4e6ca114114786cc23f3d5a1f8d14bf">field_type</a>;
<a name="l00050"></a><a class="code" href="schema_8h.html#a03850a83574de4bb3d8832fcd3faff43">00050</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> { <a class="code" href="schema_8h.html#a03850a83574de4bb3d8832fcd3faff43aa489a4bfea60d57e13b49ec708d128ef">TBL_BEG</a>, <a class="code" href="schema_8h.html#a03850a83574de4bb3d8832fcd3faff43aa32756fd30dfa60bb104fc1767d0fc2e">TBL_END</a> } <a class="code" href="schema_8h.html#a03850a83574de4bb3d8832fcd3faff43">tbl_position</a>;
<a name="l00051"></a>00051 
<a name="l00052"></a><a class="code" href="schema_8h.html#a1e6d180755a5ed06177ba962f6f5a357">00052</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structfield__desc__struct.html" title="Field descriptor.">field_desc_struct</a> * <a class="code" href="structfield__desc__struct.html" title="Field descriptor.">field_desc_p</a>;
<a name="l00053"></a><a class="code" href="schema_8h.html#a3697976155c7f4c4a67166e84b60da3f">00053</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structschema__struct.html" title="Table/record schema.">schema_struct</a> * <a class="code" href="structschema__struct.html" title="Table/record schema.">schema_p</a>;
<a name="l00054"></a><a class="code" href="schema_8h.html#a7e98dad1bc2dc9705a3618e88aa4dd14">00054</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>record_struct * <a class="code" href="schema_8h.html#a7e98dad1bc2dc9705a3618e88aa4dd14">record_p</a>;
<a name="l00055"></a><a class="code" href="schema_8h.html#aecdeb6ab12474d36eca9cc89108d8a14">00055</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structtbl__desc__struct.html" title="Table descriptor.">tbl_desc_struct</a> * <a class="code" href="structtbl__desc__struct.html" title="Table descriptor.">tbl_p</a>;
<a name="l00056"></a>00056 
<a name="l00067"></a><a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108">00067</a> <span class="keyword">typedef</span> <span class="keywordtype">void</span>** <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a>;
<a name="l00068"></a>00068 
<a name="l00070"></a><a class="code" href="schema_8h.html#a1222bfad80513affb67128ee4433194f">00070</a> tbl_p <a class="code" href="schema_8h.html#a1222bfad80513affb67128ee4433194f" title="Database tables.">db_tables</a>; 
<a name="l00072"></a>00072 <span class="comment">/* for debugging */</span>
<a name="l00073"></a>00073 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a4ff7df6edd236f96a6ba76a11dff3fe3">put_field_info</a> ( <a class="code" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, field_desc_p f ); 
<a name="l00074"></a>00074 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a444fc4fb5a7c13e99feb53df056c02ed">put_record_info</a> ( <a class="code" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r, schema_p s ); 
<a name="l00075"></a>00075 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#adc326d774f66892dbc519695ac236102">put_schema_info</a> ( <a class="code" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, schema_p s ); 
<a name="l00076"></a>00076 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a8ad1caaeaa9408c196eb028a32bee9f5">put_tbl_info</a> ( <a class="code" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level, tbl_p t );
<a name="l00077"></a>00077 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a7fe87f6656cd7292d8ebb7b863a77bf7">put_db_info</a> ( <a class="code" href="pmsg_8h.html#af9e14cbc16deb37f574c22beaa9a48ad">pmsg_level</a> level );
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="comment">/* table API */</span>
<a name="l00080"></a>00080 
<a name="l00084"></a>00084 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#ac5bd6b6b917bf424de25fd8f257fe061">open_db</a> ( <span class="keywordtype">void</span> );
<a name="l00086"></a>00086 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a69a49703885b4713a672943874e121ab">close_db</a> ( <span class="keywordtype">void</span> );
<a name="l00087"></a>00087 
<a name="l00089"></a>00089 <span class="keyword">extern</span> schema_p <a class="code" href="schema_8c.html#a5b1a8d21a78e52a9c0780121ecf3703c">new_schema</a> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *name );
<a name="l00091"></a>00091 <span class="keyword">extern</span> schema_p <a class="code" href="schema_8c.html#a7659f0c43f283f9d0b7cd3c18c3293f5">get_schema</a> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *name );
<a name="l00093"></a>00093 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a2913f8a4ccb89ef7c75b22af80bb7af9">remove_schema</a> ( schema_p s );
<a name="l00095"></a>00095 <span class="keyword">extern</span> <span class="keywordtype">char</span>* <a class="code" href="schema_8c.html#a306cf263ad7688f8180a95bbcfcf4972">schema_name</a> ( schema_p <a class="code" href="structtbl__desc__struct.html#a044bc349eb468b8e317199169423b6b9">sch</a> );
<a name="l00097"></a>00097 <span class="keyword">extern</span> field_desc_p <a class="code" href="schema_8c.html#abd95953ab3dc200347c0f9c7fc30ab93">schema_first_fld_desc</a> ( schema_p <a class="code" href="structtbl__desc__struct.html#a044bc349eb468b8e317199169423b6b9">sch</a> );
<a name="l00099"></a>00099 <span class="keyword">extern</span> field_desc_p <a class="code" href="schema_8c.html#afc7a64b2158f9121d2626f3fdc66a3af">schema_last_fld_desc</a> ( schema_p <a class="code" href="structtbl__desc__struct.html#a044bc349eb468b8e317199169423b6b9">sch</a> );
<a name="l00101"></a>00101 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a654f55baae305752c1b9b30092bc3540">schema_num_flds</a> ( schema_p <a class="code" href="structtbl__desc__struct.html#a044bc349eb468b8e317199169423b6b9">sch</a> );
<a name="l00103"></a>00103 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a60a8389c4c46c8b18dc563624f311300">schema_len</a> ( schema_p <a class="code" href="structtbl__desc__struct.html#a044bc349eb468b8e317199169423b6b9">sch</a> );
<a name="l00104"></a>00104 
<a name="l00106"></a>00106 <span class="keyword">extern</span> field_desc_p <a class="code" href="schema_8c.html#ac8ebdde5c6612fb2c24eff45b7556131">new_int_field</a> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *name );
<a name="l00108"></a>00108 <span class="keyword">extern</span> field_desc_p <a class="code" href="schema_8c.html#a25a7ae02eb22016437a652dac3e9e721">new_str_field</a> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">int</span> len );
<a name="l00112"></a>00112 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a8a501fb0eaf78f73ac37489694b95e0f">is_int_field</a> ( field_desc_p f );
<a name="l00114"></a>00114 <span class="keyword">extern</span> field_desc_p <a class="code" href="schema_8c.html#ac44757896fce0b91467aef6a9294467f">field_desc_next</a> ( field_desc_p f );
<a name="l00115"></a>00115 
<a name="l00117"></a>00117 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a7dec693aa250f212822edfb6488446cd">add_field</a> ( schema_p s, field_desc_p f );
<a name="l00122"></a>00122 <span class="keyword">extern</span> <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> <a class="code" href="schema_8c.html#a88f90cc6608be6564da34d8d95c8fb1f">new_record</a> ( schema_p s );
<a name="l00124"></a>00124 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a1933612db3e4a006afe19cad5ccbcd08">release_record</a> ( <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r, schema_p s );
<a name="l00126"></a>00126 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a124a8efaaf4dd5f326e9a80e20401464">assign_int_field</a> ( <span class="keywordtype">void</span> *field_p, <span class="keywordtype">int</span> int_val );
<a name="l00128"></a>00128 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a9981be62382b8bda13997fd8adebf6dd">assign_str_field</a> ( <span class="keywordtype">void</span> *field_p, <span class="keywordtype">char</span> *str_val );
<a name="l00130"></a>00130 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#aea684fef15aedeca85e6132da5ff3969">fill_record</a> ( <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r, schema_p s, ...);
<a name="l00132"></a>00132 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#abc5d4892c7a7e264602fc495eeb6e09d">equal_record</a> ( <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r1, <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r2, schema_p s );
<a name="l00133"></a>00133 
<a name="l00136"></a>00136 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a0e4e9fed419a0c94894a18aee62ab135">set_tbl_position</a> ( tbl_p t, <a class="code" href="schema_8h.html#a03850a83574de4bb3d8832fcd3faff43">tbl_position</a> pos );
<a name="l00137"></a>00137 
<a name="l00143"></a>00143 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a80f6551dc784704bc93443d7981052fc">get_record</a> ( <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r, schema_p s );
<a name="l00144"></a>00144 
<a name="l00149"></a>00149 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a4c29afdbb018988c2e25973b0d2ccafc">put_record</a> ( <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r, schema_p s );
<a name="l00154"></a>00154 <span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="schema_8c.html#a90961f0e8dbd1176d7b0766c8ef23a88">append_record</a> ( <a class="code" href="schema_8h.html#a5f79330712bfa8c414c6fe5192063108" title="Data record.">record</a> r, schema_p s );
<a name="l00155"></a>00155 
<a name="l00157"></a>00157 <span class="keyword">extern</span> tbl_p <a class="code" href="schema_8c.html#a7787929d1394f428c37aa5279c190d46">get_table</a> ( <span class="keyword">const</span> <span class="keywordtype">char</span> *name );
<a name="l00159"></a>00159 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#ac45d975882ff178fb8a1c98b5bf31c2e">remove_table</a> ( tbl_p t );
<a name="l00161"></a>00161 <span class="keyword">extern</span> <span class="keywordtype">void</span> <a class="code" href="schema_8c.html#a8cbff5a15458a411c52068da40ef4d01">table_display</a> ( tbl_p s );
<a name="l00163"></a>00163 <span class="keyword">extern</span> tbl_p <a class="code" href="schema_8c.html#a7cb16036e70eadd9b39def21c6cd974a">table_search</a> (tbl_p t, <span class="keywordtype">char</span> *attr, <span class="keywordtype">char</span> *op, <span class="keywordtype">int</span> val);
<a name="l00165"></a>00165 <span class="keyword">extern</span> tbl_p <a class="code" href="schema_8c.html#a8f3c94d2b0101d794119dc7601e867a8">table_project</a> ( tbl_p t, <span class="keyword">const</span> <span class="keywordtype">char</span> *dest_name,
<a name="l00166"></a>00166                              <span class="keywordtype">int</span> num_fields, <span class="keywordtype">char</span> *fields[] );
<a name="l00167"></a>00167 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 22 Sep 2015 for Data Management (for INF-2700) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
